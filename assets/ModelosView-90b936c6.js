import{T as A}from"./TheNavTop-1676ea89.js";import{T as C}from"./TheAdminNavLateral2-3a5dd97d.js";import{K as L,f as h,L as E,a as g,d as w,M as F}from"./TheForm_Login-4b39105b.js";import{_ as y,o as l,c as i,a as o,f as n,l as p,F as c,i as _,v as x,e as M,d as T,t as r,r as f,b}from"./index-8fe4a332.js";import"./logo-5b4cc875.js";const N={name:"TheModelos",data(){return{nome:"",marca_id:"",desc:"desc",marcas:[],Api_tipo_veiculo:[],tipo_veiculo_id:"",marcas:"",filter_tipo_veiculo:"",array_filtros:[],filter_marca:"",filter_modelo:"",modelos_filtrados:[]}},methods:{show_menu_lateral(){this.$emit("show_menu_lateral")},showDetalhes(){this.$router.push({path:"/detalhes"})},async editar(){const s={nome_modelo:this.nome,marca_id:this.marca_id,descricao:this.desc};try{const t=await L(s,this.id);console.log("Ja esta"+t),t.data?this.$store.state.modelos=await h("api/modelos/listar_modelos?nome_tipo_veiculo=carro"):this.showErrorMessage=!0}catch(t){console.error("Erro na requisição:",t),this.showErrorMessage=!0}},showgetDados(s){this.id=s,this.modelos=this.$store.state.modelos.find(t=>t.id===this.id),console.log("Novo dado"),this.nome=this.modelos.nome_modelo,this.tipo_veiculo_id=this.modelos.id_tipo_veiculo,this.marca_id=this.modelos.id_marca},modalApagar(s){this.id=s,console.log(s)},async apagar(){console.log("Eliminando "+this.id);try{const s=await E(this.id);console.log("temp Ja eliminando"+s),setTimeout(async function(){this.$store.state.modelos=await h("api/modelos/listar_modelos?nome_tipo_veiculo=carro")}.bind(this),2e3),s.data?console.log("Eliminou..."):this.showErrorMessage=!0}catch(s){console.error("Erro na requisição:",s),this.showErrorMessage=!0}},filterMarcas(s){return this.$store.state.marcas.filter(t=>t.tipo_veiculo_id==s)},filterMarcas_nome(s){return this.$store.state.marcas.filter(t=>t.tipo_veiculo==this.filter_tipo_veiculo)},async filterModelos_nome(s){this.applyFiltro("nome_tipo_veiculo",s),this.modelos_filtrados=await h("api/modelos/listar_modelos?nome_tipo_veiculo="+s),console.log(this.modelos_filtrados)},async applyFiltro(s,t){if(t!="0"){const m={};this.array_filtros.forEach(e=>{m[e.chave]=e.valor}),m[s]=t,this.array_filtros=Object.keys(m).map(e=>({chave:e,valor:m[e]}));const u={};this.array_filtros.forEach(e=>{u[e.chave]=e.valor});const d=`api/modelos/listar_modelos?${Object.keys(u).map(e=>`${e}=${u[e]}`).join("&")}`;this.$store.state.modelos=await h(d),console.log(d)}else this.limparFiltro(),this.filter_tipo_veiculo="0",this.filter_marca="0",this.filter_modelo="0";this.$store.state.anuncios.length==0?this.$store.state.results=!1:this.$store.state.results=!0},async limparFiltro(){this.array_filtros=[],this.$store.state.modelos=await h("api/modelos/listar_modelos?nome_tipo_veiculo=carro")}},async created(){this.$store.state.modelos=await h("api/modelos/listar_modelos?nome_tipo_veiculo=carro"),this.$store.state.marcas=await g(),this.$store.state.tipo_veiculo=await w(),localStorage.getItem("token")||this.$router.push({path:"/login"})},mounted(){localStorage.getItem("perfil")!="superadmin"&&this.$router.push({path:"/anuncios"})}},S={class:"content"},V={class:"py-2",style:{"box-shadow":"0px 0px 10px 0px rgba(0, 0, 0, 0.2)"}},q={class:"row"},D={class:"col-8 col-lg-10"},U={class:"row"},z={class:"col-2 pesquisar-filter p-0"},H=o("i",{class:"fas fa-filter fa-lg"},null,-1),j=[H],B=o("div",{class:"col-10 col-lg-6 p-0"},[o("div",{class:"pesquisar",style:{width:"100%",position:"relative",border:"none"}},[o("input",{type:"text",class:"ps-4 pt-2",style:{width:"89%",color:"#000"},placeholder:"Digite a marca o modelo do carro"}),o("i",{class:"fas fa-search",style:{position:"absolute",left:"8px",top:"36%",bottom:"0",margin:"auto"}})])],-1),I=M('<div class="col-4 bg-inf col-lg-2 pesquisar-mais-relevantes"><div class="row"><div class="pesquisar-link-icon col-4 pt-3 invisible"><i class="fas fa-th-large fa-lg"></i></div><div class="pesquisar-link-icon col-4 text-center pt-3 pt-3 invisible"><i class="fas fa-th-list fa-lg"></i></div><div class="menu-link position-relative pesquisar-link-icon col-4 pt-3"><i class="fas fa-exchange-alt fa-rotate-90 fa-l relevante"></i><div class="sub-menu-desktop mais-relevantes position-absolute py-2" style="z-index:99;width:170px;left:-135px !important;"><div class="pb-3"></div><div class="bg-dark py-0 text-center" style="border-bottom-left-radius:8px;border-bottom-right-radius:8px;"><p class="">Mais Relevantes</p></div></div></div></div><div></div></div>',1),J=o("div",null,[o("div",{class:"py-2 pt-3 px-2",style:{"font-size":"13px"}},[o("span",{class:"me-2 p-1 px-2 rounded-3 bg-dark",style:{opacity:"0.6"}},[o("b",null,"Admin/Modelos")])])],-1),O={class:"position-relative",style:{height:"72vh"}},K={class:"p-2 pt-3 table-responsive",style:{height:"65vh"}},P={class:"table"},R=o("th",{scope:"col"},"#",-1),G={scope:"col"},Q=o("option",{value:"",selected:"",disabled:""}," Tipo de veiculo ",-1),W={value:"0"},X={key:0},Y={key:1},Z=["value"],oo={scope:"col"},eo=o("option",{value:"",selected:"",disabled:""}," Marca ",-1),to={value:"0"},so={key:0},ao={key:1},lo=["value"],io={scope:"col"},ro=o("option",{value:"",selected:"",disabled:""}," Modelo ",-1),no={value:"0"},co={key:0},_o={key:1},mo=["value"],ho=o("th",{scope:"col"}," --- ",-1),po=o("th",{scope:"col",class:"text-center"}," --- ",-1),uo=o("tr",{style:{"background-color":"crimson",color:"#fff"}},[o("th",{scope:"col"},"#"),o("th",{scope:"col"},"Tipo de veiculo"),o("th",{scope:"col"},"Marca"),o("th",{scope:"col"},"Modelo"),o("th",{scope:"col"},"Descrição"),o("th",{scope:"col",class:"text-center"},"Açoes")],-1),vo={scope:"row"},fo=o("td",null," ---- ",-1),bo={class:"text-center"},yo={style:{width:"100%"}},go=o("i",{class:"fas fa-eye"},null,-1),wo=[go],xo=["onClick"],Mo=o("i",{class:"fas fa-pencil-alt"},null,-1),To=[Mo],ko=["onClick"],$o=o("button",{class:"btn btn-add rounded-circle position-absolute d-flex justify-content-center align-items-center",style:{left:"8px"},type:"button","data-bs-toggle":"modal","data-bs-target":"#IDaddCarro"},[o("i",{class:"fas fa-plus"})],-1),Ao={class:"modal fade",id:"EditarModelo",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Co={class:"modal-dialog"},Lo={class:"modal-content"},Eo={class:"bg-dar",id:"criarAnuncio"},Fo=o("div",{class:"modal-header"},[o("h5",{class:"modal-title",id:"exampleModalLabel",style:{"font-size":"17px"}},[o("span",{class:"fas fa-bullhorn py-2 pt-0"}),T(),o("b",null,"Editar Modelo")]),o("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Fechar"})],-1),No={class:"modal-body",style:{height:"470px",overflow:"auto","margin-bottom":"1em"}},So={class:"mb-3"},Vo=o("label",{for:"",class:"form-label"},"Tipo de veiculo",-1),qo=o("option",{value:""},"Selecionar",-1),Do=["value"],Uo={class:"mb-3"},zo=o("label",{for:"",class:"form-label"},"Marca",-1),Ho=o("option",{value:""},"Selecionar",-1),jo=["value"],Bo={class:"mb-3"},Io=o("label",{for:"nome",class:"form-label"},"Modelo",-1),Jo={class:"modal-footer"},Oo={style:{display:"flex","flex-wrap":"wrap"}},Ko=o("div",{class:"col-6"},[o("button",{type:"button",class:"me-3 btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Fechar"},"Cancelar")],-1),Po={class:"col-6"},Ro={class:"modal fade",id:"EliminarModelo",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Go={class:"modal-dialog"},Qo={class:"modal-content"},Wo={class:"bg-dar",id:"criarAnuncio"},Xo=M('<div class="modal-header"><h5 class="modal-title" id="exampleModalLabel" style="font-size:17px;"><span class="fas fa-bullhorn py-2 pt-0"></span> <b>Apagar Modelo</b></h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button></div><div class="modal-body" style="height:80px;overflow:auto;margin-bottom:1em;"><div><h5> Confirme antes de <span style="color:red;">Eliminar</span>! </h5></div></div>',2),Yo={class:"modal-footer"},Zo={style:{display:"flex","flex-wrap":"wrap"}},oe=o("div",{class:"col-6"},[o("button",{type:"button",class:"me-3 btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Fechar"},"Cancelar")],-1),ee={class:"col-6"};function te(s,t,m,u,a,d){return l(),i("main",S,[o("div",V,[o("div",q,[o("div",D,[o("div",U,[o("div",z,[o("div",{class:"pt-2",onClick:t[0]||(t[0]=(...e)=>d.show_menu_lateral&&d.show_menu_lateral(...e))},j)]),B])]),I])]),J,o("div",O,[o("div",K,[o("table",P,[o("thead",null,[o("tr",null,[R,o("th",G,[o("div",null,[n(o("select",{class:"form-select",onChange:t[1]||(t[1]=e=>d.filterModelos_nome(e.target.value)),style:{width:"150px"},"onUpdate:modelValue":t[2]||(t[2]=e=>a.filter_tipo_veiculo=e)},[Q,o("option",W,[a.filter_tipo_veiculo=="0"?(l(),i("div",X," Tipo de veiculo ")):(l(),i("div",Y," Limpar filtro "))]),(l(!0),i(c,null,_(s.$store.state.tipo_veiculo,e=>(l(),i("option",{value:e.tipo_veiculo},r(e.tipo_veiculo),9,Z))),256))],544),[[p,a.filter_tipo_veiculo]])])]),o("th",oo,[o("div",null,[n(o("select",{class:"form-select",onChange:t[3]||(t[3]=e=>d.applyFiltro("nome_marca",e.target.value)),style:{width:"150px"},"onUpdate:modelValue":t[4]||(t[4]=e=>a.filter_marca=e)},[eo,o("option",to,[a.filter_marca=="0"?(l(),i("div",so," Marca ")):(l(),i("div",ao," Limpar filtro "))]),(l(!0),i(c,null,_(d.filterMarcas_nome(a.filter_tipo_veiculo),e=>(l(),i("option",{value:e.nome_marca},r(e.nome_marca),9,lo))),256))],544),[[p,a.filter_marca]])])]),o("th",io,[o("div",null,[n(o("select",{class:"form-select",onChange:t[5]||(t[5]=e=>d.applyFiltro("nome_modelo",e.target.value)),style:{width:"150px"},"onUpdate:modelValue":t[6]||(t[6]=e=>a.filter_modelo=e)},[ro,o("option",no,[a.filter_modelo=="0"?(l(),i("div",co," Modelo ")):(l(),i("div",_o," Limpar filtro "))]),(l(!0),i(c,null,_(a.modelos_filtrados,e=>(l(),i("option",{value:e.nome_modelo},r(e.nome_modelo),9,mo))),256))],544),[[p,a.filter_modelo]])])]),ho,po]),uo]),o("tbody",null,[(l(!0),i(c,null,_(s.$store.state.modelos,e=>(l(),i("tr",{key:e.id},[o("th",vo,r(e.id),1),o("td",null,r(e.nome_tipo_veiculo),1),o("td",null,r(e.nome_marca),1),o("td",null,r(e.nome_modelo),1),fo,o("td",bo,[o("div",yo,[o("span",{onClick:t[7]||(t[7]=(...v)=>d.showDetalhes&&d.showDetalhes(...v)),hidden:""},wo),o("span",{class:"mx-3",type:"button","data-bs-toggle":"modal","data-bs-target":"#EditarModelo",onClick:v=>d.showgetDados(e.id)},To,8,xo),o("span",{class:"fas fa-trash-alt",type:"button","data-bs-toggle":"modal","data-bs-target":"#EliminarModelo",onClick:v=>d.modalApagar(e.id)},null,8,ko)])])]))),128))])])]),$o]),o("div",Ao,[o("div",Co,[o("div",Lo,[o("div",Eo,[Fo,o("div",No,[o("form",null,[o("div",So,[Vo,n(o("select",{class:"form-select",name:"",id:"","onUpdate:modelValue":t[8]||(t[8]=e=>a.tipo_veiculo_id=e)},[qo,(l(!0),i(c,null,_(s.$store.state.tipo_veiculo,e=>(l(),i("option",{key:e.id,value:e.id},r(e.tipo_veiculo),9,Do))),128))],512),[[p,a.tipo_veiculo_id]])]),o("div",Uo,[zo,n(o("select",{class:"form-select",name:"",id:"","onUpdate:modelValue":t[9]||(t[9]=e=>a.marca_id=e)},[Ho,(l(!0),i(c,null,_(d.filterMarcas(a.tipo_veiculo_id),e=>(l(),i("option",{key:e.id,value:e.id},r(e.nome_marca),9,jo))),128))],512),[[p,a.marca_id]])]),o("div",Bo,[Io,n(o("input",{type:"text",class:"text form-control",id:"nome","onUpdate:modelValue":t[10]||(t[10]=e=>a.nome=e)},null,512),[[x,a.nome]])])])]),o("div",Jo,[o("div",Oo,[Ko,o("div",Po,[o("button",{type:"button",class:"ms-3 btn btn-primary",onClick:t[11]||(t[11]=e=>d.editar()),"data-bs-dismiss":"modal","aria-label":"Fechar"},"actualizar")])])])])])])]),o("div",Ro,[o("div",Go,[o("div",Qo,[o("div",Wo,[Xo,o("div",Yo,[o("div",Zo,[oe,o("div",ee,[o("button",{type:"button",class:"btn btn-primary",onClick:t[12]||(t[12]=e=>d.apagar()),"data-bs-dismiss":"modal","aria-label":"Fechar"},"Confirmar")])])])])])])])])}const se=y(N,[["render",te]]),ae={name:"TheAddModelo",data(){return{nome:"",marca_id:"",desc:"desc",marcas:[],Api_tipo_veiculo:[],tipo_veiculo_id:""}},methods:{async add(){const s={nome_modelo:this.nome,marca_id:this.marca_id,descricao:this.desc};try{await F(s)&&(this.nome="",this.marca_id="",this.desc="",this.$store.state.modelos=await h("api/modelos/listar_modelos?nome_tipo_veiculo=carro"))}catch{}}},async created(){this.$store.state.marcas=await g(),this.Api_tipo_veiculo=await w()},computed:{filterMarcas(){return Array.isArray(this.marcas)?this.$store.state.marcas.filter(s=>s.tipo_veiculo_id==this.tipo_veiculo_id):(console.error("this.marcas não é uma matriz"),[])}}},le={class:"modal fade",id:"IDaddCarro",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},ie={class:"modal-dialog"},de={class:"modal-content"},re={class:"bg-dar"},ne=o("div",{class:"modal-header"},[o("h5",{class:"modal-title",id:"exampleModalLabel"},[o("span",{class:"far fa-user py-2 pt-0"}),T(),o("b",null,"Adicionar Modelo")]),o("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Fechar"})],-1),ce={class:"modal-body",style:{height:"370px",overflow:"auto","margin-bottom":"1em"}},_e={class:"mb-3"},me=o("label",{for:"",class:"form-label"},"Tipo de veiculo",-1),he=o("option",{value:""},"Selecionar",-1),pe=["value"],ue={class:"mb-3"},ve=o("label",{for:"",class:"form-label"},"Marca",-1),fe=o("option",{value:""},"Selecionar",-1),be=["value"],ye={class:"mb-3"},ge=o("label",{for:"nome",class:"form-label"},"Modelo",-1),we={class:"modal-footer"},xe={style:{display:"flex","flex-wrap":"wrap"}},Me=o("div",{class:"col-6"},[o("button",{type:"button",class:"ms-3 btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Fechar"},"Cancelar")],-1),Te={class:"col-6"};function ke(s,t,m,u,a,d){return l(),i("div",le,[o("div",ie,[o("div",de,[o("div",re,[ne,o("div",ce,[o("form",null,[o("div",_e,[me,n(o("select",{class:"form-select",name:"",id:"","onUpdate:modelValue":t[0]||(t[0]=e=>a.tipo_veiculo_id=e)},[he,(l(!0),i(c,null,_(a.Api_tipo_veiculo,e=>(l(),i("option",{key:e.id,value:e.id},r(e.tipo_veiculo),9,pe))),128))],512),[[p,a.tipo_veiculo_id]])]),o("div",ue,[ve,n(o("select",{class:"form-select",name:"",id:"","onUpdate:modelValue":t[1]||(t[1]=e=>a.marca_id=e)},[fe,(l(!0),i(c,null,_(d.filterMarcas,e=>(l(),i("option",{key:e.id,value:e.id},r(e.nome_marca),9,be))),128))],512),[[p,a.marca_id]])]),o("div",ye,[ge,n(o("input",{type:"text",class:"text form-control",id:"nome","onUpdate:modelValue":t[2]||(t[2]=e=>a.nome=e)},null,512),[[x,a.nome]])])])]),o("div",we,[o("div",xe,[Me,o("div",Te,[o("button",{type:"button",class:"ms-3 btn btn-primary",onClick:t[3]||(t[3]=e=>d.add()),"data-bs-dismiss":"modal","aria-label":"Fechar"},"Adicionar")])])])])])])])}const $e=y(ae,[["render",ke]]),Ae={components:{TheNavTop:A,TheAdminNavLateral2:C,TheModelos:se,TheAddModelo:$e},data(){return{TheNavLateral:""}},methods:{handle_showHidden_menu_lateral(){console.log("Emitido..."),this.TheNavLateral.classList.toggle("showHidden_menu-lateral")}},mounted(){this.TheNavLateral=document.getElementById("TheNavLateral")}},Ce={id:"TheNavLateral",class:"menu-lateral showHidden_menu-lateral"};function Le(s,t,m,u,a,d){const e=f("TheNavTop"),v=f("TheAdminNavLateral2"),k=f("TheModelos"),$=f("TheAddModelo");return l(),i("div",null,[b(e),o("div",Ce,[b(v,{onShow_menu_lateral:d.handle_showHidden_menu_lateral},null,8,["onShow_menu_lateral"])]),b(k,{onShow_menu_lateral:d.handle_showHidden_menu_lateral},null,8,["onShow_menu_lateral"]),b($)])}const qe=y(Ae,[["render",Le]]);export{qe as default};
