import{l as _,L as f}from"./loader-31d0dd29.js";import{_ as g,r as n,o as r,c as d,a as e,b as c,w as b,e as i,v as h,f as y,d as m,g as x,F as w}from"./index-c0b03364.js";const v="/regLoader.png",k={name:"TheForm_Login",components:{loader:_},data(){return{showLoader:!1,user_email:"",user_senha:"",showPassword:!1,loderLogin:!1}},methods:{async goAnuncios(){this.$store.state.fechaModal=!0;const t={email:this.user_email,password:this.user_senha};if(this.user_email.includes("@")&&this.user_senha!=""){this.loderLogin=!0;try{const s=await f(t);localStorage.setItem("token",s.token),localStorage.setItem("anunciante_id",s.anunciante_id),localStorage.setItem("anunciante_nome",s.user.name),localStorage.setItem("perfil",s.user.perfil),this.$store.state.userName=s.user.name,s.token&&(window.location.reload(),this.$store.state.fechaModal=!1),s&&(this.loderLogin=!1)}catch(s){console.log("Erro!"),this.$store.state.fechaModal=!1,s&&(this.loderLogin=!1),this.user_senha=""}}},goCadastrar(){this.$router.push({path:"/cadastrar"})},togglePasswordVisibility(){this.showPassword=!this.showPassword;const t=document.getElementById("senha");this.showPassword?t.type="text":t.type="password"}},created(){localStorage.getItem("token")&&(localStorage.getItem("perfil")=="admin"?this.$router.push({path:"/anuncios"}):localStorage.getItem("perfil")=="superadmin"&&this.$router.push({path:"/admin-anuncios"}))}},S={class:"modal-dialog"},L={class:"modal-content px-1 px-md-5 px-lg-5"},I={class:"rounded-3",style:{"box-shadow":"0px -0px 10px -3px rgba(0,0,0,0.3)"}},C={class:"text-center py-4 pb-2"},V=e("span",{style:{"font-size":"23px"}},[m(" Regional "),e("span",{style:{color:"crimson"}},"motors")],-1),P=e("div",{class:"text-center pb-3"},[e("span",{class:"far fa-user"}),e("span",{style:{"font-size":"14px"}}," Iniciar Sessao ")],-1),F={class:"modal-body px-4",style:{height:"370p",overflow:"auto","margin-bottom":"1em"}},E={class:"mb-3"},M=e("label",{for:"email",class:"form-label"},"Email",-1),N={class:"mb-3"},T=e("label",{for:"senha",class:"form-label"},"Senha",-1),z={class:"input-group"},B=e("i",{class:"fas fa-eye"},null,-1),A=[B],q=e("div",{class:"mb-3"},[e("input",{id:"checkbox",type:"checkbox",placeholder:"Senha",class:"me-2"}),e("label",{for:"checkbox",class:"form-label d-inline"},"Lembrar de mim")],-1),R={class:"mb-3"},U={key:0,src:v,class:"caixa2"},D={class:"mb-3",hidden:""},$=e("div",{class:"text-center pt-4"},[e("p",{class:"m-0",style:{color:"rgb(36, 105, 255)","font-size":"15px"}},"Recuperar Senha")],-1),j={style:{"z-index":"9999"},hidden:""};function G(t,s,H,J,l,a){const u=n("router-link"),p=n("loader");return r(),d(w,null,[e("div",null,[e("div",S,[e("div",L,[e("div",I,[e("div",C,[c(u,{to:"/"},{default:b(()=>[V]),_:1})]),P,e("div",F,[e("form",null,[e("div",E,[M,i(e("input",{id:"email",type:"email",placeholder:"Email",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=o=>l.user_email=o),required:""},null,512),[[h,l.user_email]])]),e("div",N,[T,e("div",z,[i(e("input",{id:"senha",type:"password",placeholder:"Senha",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>l.user_senha=o),required:""},null,512),[[h,l.user_senha]]),e("button",{class:"btn btn-outline-secondary",type:"button",onClick:s[2]||(s[2]=(...o)=>a.togglePasswordVisibility&&a.togglePasswordVisibility(...o))},A)])]),q,e("div",R,[e("button",{type:"button","data-bs-dismiss":"modal","aria-label":"Fechar",class:"btn btn-primary col-12",onClick:s[3]||(s[3]=(...o)=>a.goAnuncios&&a.goAnuncios(...o))},[l.loderLogin?(r(),d("img",U)):y("",!0),m(" Iniciar SessÃ£o")])]),e("div",D,[e("button",{type:"button","data-bs-dismiss":"modal","aria-label":"Fechar",class:"btn btn-dark col-12",onClick:s[4]||(s[4]=(...o)=>a.goCadastrar&&a.goCadastrar(...o))},"Criar conta")]),$])])])])])]),i(e("div",j,[c(p)],512),[[x,t.$store.state.fechaModal]])],64)}const Q=g(k,[["render",G]]);export{Q as T,v as _};
