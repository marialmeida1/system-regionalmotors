import{f as $}from"./loader-ea9785e3.js";import{G as x}from"./glide.esm-676e99f8.js";import{_ as q,r as b,j as T,o as a,c as n,a as t,F as w,i as C,d as k,f as r,e as c,g as j,t as m,b as D,w as h,k as v}from"./index-6fd1d4f4.js";import{_ as O}from"./TheForm_Login-6297d3b0.js";const F={name:"TheResultado_Carro",props:{set_tipo_veiculo:String},data(){return{splideOptions:{type:"carousel",perPage:1},array_filtros:[],results:!1,loader:!0,notFound:!1,arrayTitles:[],ordenacao_type:"0",url:"",queryString:"",total_pages:0,current_page:1}},methods:{show_menu_lateral(){this.$emit("show_menu_lateral")},showCarroDetalhes(o){const i={id:o};this.$router.push({path:"/verveiculo",query:i})},upPage(){window.scrollTo(0,0)},goverveiculo(o){this.$emit("goverveiculoNow",o)},async listData(o){this.$store.state.resultado=await o},async applyFiltro(o,i){this.notFound=!1,this.loader=!0;const d={};this.$store.state.resultado=[],this.array_filtros.forEach(e=>{d[e.chave]=e.valor}),d[o]=i,this.array_filtros=Object.keys(d).map(e=>({chave:e,valor:d[e]}));const p={};this.array_filtros.forEach(e=>{p[e.chave]=e.valor}),this.arrayTitles=[];var u="Comprar ",l="";Object.values(p).forEach(e=>{e==1?e="Novo":e==2&&(e="Usado"),this.arrayTitles.push(e),u+=e+" ",l+=e+" "}),document.title=u;const f=`/resultados/#/${l.toLowerCase()}`;this.$router.replace(f),this.queryString=Object.keys(p).map(e=>`${e}=${p[e]}`).join("&"),console.log(this.queryString),this.url=`api/anuncios/listar_anuncios?${this.queryString}&destaque_busca=1&status_publicacao=2`,this.$store.state.resultado=await $(this.url),this.$store.state.resultado&&(this.results=!0,this.loader=!1,this.$store.state.resultado.length==0?this.notFound=!0:this.notFound=!1)},async fetchAnuncios(){let o=[];for(let i=1;i<=this.current_page;i++){const d=await $(`api/anuncios/listar_anuncios/${this.ordenacao_type}?${this.queryString}&destaque_busca=1&status_publicacao=2&page=${i}`);o=[...o,...d]}this.$store.state.resultado=o},async verMaisCarros(){this.current_page<this.total_pages&&(this.current_page+=1,await this.fetchAnuncios())},async getOrdenation(o){this.ordenacao_type=o,await this.fetchAnuncios()},verTodos(){this.limparFiltro()},async limparFiltro(){this.$store.state.resultado=[],this.loader=!0,this.notFound=!1,this.array_filtros=[],this.$store.state.resultado=await $("api/anuncios/listar_anuncios?destaque_busca=1&status_publicacao=2");const o=this.$store.state.resultado,i=o[0].current_page,d=o[0].total_pages;this.current_page=i,this.total_pages=d,this.$store.state.results=!0,this.filtro="",this.textMarca="",this.textModelo="",this.$store.state.todosFiltros=[],this.queryString="",this.$store.state.resultado&&(this.results=!0,this.loader=!1,this.$store.state.resultado.length==0&&(this.notFound=!0));const p="/resultados";this.$router.replace(p)}},async mounted(){this.$store.state.resultado=[];const o=Object.keys(this.$route.query);console.log(o);let i="Comprar ";this.queryString="",o.forEach((f,e)=>{let s=this.$route.query[f];i+=`${s} `,e===0?this.queryString+=`${f}=${s}`:this.queryString+=`&${f}=${s}`}),document.title=i;const d=window.location.href;d.substring(d.indexOf("#"))=="/resultados"?this.$store.state.resultado=await $(`api/anuncios/listar_anuncios?${this.queryString}&destaque_busca=1&status_publicacao=2&situacao_veiculo=2&tipo_veiculo=Carro`):this.$store.state.resultado=await $(`api/anuncios/listar_anuncios?${this.queryString}&destaque_busca=1&status_publicacao=2`),this.$store.state.resultado&&(this.results=!0,this.loader=!1,this.$store.state.resultado.length==0?this.notFound=!0:this.notFound=!1);const u=this.$store.state.resultado,l=u[0].current_page,_=u[0].total_pages;this.current_page=l,this.total_pages=_},updated(){this.$nextTick(()=>{this.$store.state.resultado&&Object.values(this.$refs).forEach(o=>{o.forEach(i=>{new x(i,{type:"carousel",perView:1,gap:0,peek:{before:0,after:0},hoverpause:!1,pagination:{el:".glide__pagination"}}).mount()})})})}},S={class:"content"},E={class:"pt-3 pe-4 pb-3 d-flex flex-row align-items-center justify-content-between"},N={class:"py-2 px-2",style:{"font-size":"13px"}},R={key:0},P={key:0},z={key:1},A={key:1},M={key:2},V={class:"ordenacao"},B=t("i",{class:"fa fa-sort fa-md"},null,-1),I=t("option",{value:"0",selected:""},"MAIS RELEVANTES",-1),L=t("option",{value:"1"},"MENOR PREÇO",-1),U=t("option",{value:"2"},"MAIOR PREÇO",-1),G=t("option",{value:"3"},"ANO MAIS NOVO",-1),H=[I,L,U,G],J={hidden:""},K={class:"px-2 py-2"},Q={key:0,style:{height:"60vh"},class:"text-center"},W=t("div",null,[t("img",{class:"caixa",src:O,alt:"",style:{width:"50px",height:"50px",background:"none !important"}})],-1),X=t("span",{style:{"font-size":"12px"}}," Carregando... ",-1),Y=[W,X],Z={class:"pt-5 px-3"},tt={class:"col-lg-6 mx-auto rounded-3 text-center py-4",style:{"background-color":"rgba(82, 82, 82, 0.2)"}},st=t("h4",null,"Nenhum resultado!",-1),et={class:"m-0"},ot={class:"row p-0 m-0"},at={class:"col-lg-12 col-md-12 p-0 m-0"},it={class:"row p-0 m-0"},lt={class:"px-2 container-completo"},nt={class:"row p-0 m-0"},rt={class:"col-5 col-md-12 col-lg-12 m-0 p-0"},ct={class:"imagem-container2"},dt=["alt"],_t={class:"imagem-container2"},ut=["alt"],ht={class:"imagem-container2"},gt=["alt"],vt={class:"imagem-container2"},pt=["alt"],mt={class:"imagem-container2"},ft=["alt"],yt={class:"imagem-container2"},$t=["alt"],kt={class:"imagem-container2"},wt=["alt"],Ct={class:"imagem-container2"},bt=["alt"],xt={class:"imagem-container2"},qt=["alt"],Tt={class:"imagem-container2"},jt=["alt"],Dt={class:"glide__track","data-glide-el":"track"},Ot={class:"glide__slides"},Ft={class:"glide__slide"},St={class:"imagem-container2"},Et=["alt"],Nt={class:"glide__slide"},Rt={class:"imagem-container2"},Pt=["alt"],zt={class:"glide__slide"},At={class:"imagem-container2"},Mt=["alt"],Vt=t("div",{class:"glide__arrows","data-glide-el":"controls"},[t("div",{class:"btn glide__arrow glide__arrow--left btn-voltar","data-glide-dir":"<"},[t("span",null," > ")]),t("div",{class:"btn glide__arrow glide__arrow--right btn-avancar","data-glide-dir":">"},[t("span",null," > ")])],-1),Bt={class:"col-7 col-md-12 col-lg-12 titles p-0 m-0"},It=["onClick"],Lt={class:"px-2 pt-2 position-relative"},Ut={style:{opacity:"0.5","text-transform":"uppercase"}},Gt={class:"pt-2 pb-1 position-relative"},Ht={class:"py-1 ps-2",style:{color:"#000000"}},Jt={class:"row p-2 m-0"},Kt={class:"col-6 p-0 m-0",style:{"font-size":"12px",opacity:"0.7"}},Qt={class:"col-6 p-0 m-0 text-end",style:{"font-size":"12px",opacity:"0.7"}},Wt=t("div",null,null,-1),Xt={class:"pagination"},Yt=t("div",{class:"bg-dark",style:{"border-radius":"100px",height:"55px",width:"55px","padding-top":"5px"}},[t("i",{class:"fas fa-filter",style:{"font-size":"12px"}}),k(),t("br"),t("div",{style:{"font-size":"11px"}},"Filtrar")],-1),Zt=[Yt];function ts(o,i,d,p,u,l){const _=b("splide-slide"),f=b("splide"),e=T("lazy");return a(),n("main",S,[t("div",E,[t("div",N,[(a(!0),n(w,null,C(u.array_filtros,(s,y)=>(a(),n("span",{class:"me-2 p-1 px-2 rounded-3 me-2",style:{"background-color":"rgba(82, 82, 82, 0.2)",color:"#000","font-weight":"600"},key:y},[s.chave=="situacao_veiculo"?(a(),n("span",R,[s.valor=="1"?(a(),n("span",P," Novo ")):r("",!0),s.valor=="2"?(a(),n("span",z," Usado ")):r("",!0)])):s.chave=="opcionais_id"?(a(),n("span",A," Itens Opcionais ")):(a(),n("span",M,m(s.valor),1))]))),128))]),t("div",V,[B,t("select",{class:"ordenacao_select",onChange:i[0]||(i[0]=s=>l.getOrdenation(s.target.value)),id:"ordenacao_select"},H,32)])]),t("div",J,[t("div",K,[t("h4",null,[k(" Resultados "),(a(!0),n(w,null,C(o.$store.state.todosFiltros,(s,y)=>(a(),n("span",{class:"me-2",key:y}," oa "+m(s.valor)+", ",1))),128)),k(" | Regionalmotors ")])])]),u.loader?(a(),n("div",Q,Y)):r("",!0),c(t("div",Z,[t("div",tt,[st,t("p",et,[k(" Click para "),t("span",{style:{color:"crimson",cursor:"pointer"},onClick:i[1]||(i[1]=(...s)=>l.verTodos&&l.verTodos(...s))}," ver todos ")])])],512),[[j,u.notFound]]),t("div",ot,[t("div",at,[t("div",null,[t("div",it,[(a(!0),n(w,null,C(o.$store.state.resultado,(s,y)=>(a(),n("div",{class:"col-lg-3 col-md-6 p-0 m-0 mb-3",key:y,style:{cursor:"pointer"}},[t("div",lt,[t("div",nt,[t("div",rt,[D(f,{options:u.splideOptions,class:"bg-dark"},{default:h(()=>[s.foto1?(a(),v(_,{key:0,onClick:g=>l.goverveiculo(s.id)},{default:h(()=>[t("div",null,[t("div",ct,[c(t("img",{alt:s.nome_marca,class:"img-fluid"},null,8,dt),[[e,`${s.foto1}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),_:2},1032,["onClick"])):r("",!0),s.foto2?(a(),v(_,{key:1,onClick:g=>l.goverveiculo(s.id)},{default:h(()=>[t("div",null,[t("div",_t,[c(t("img",{alt:s.nome_marca,class:"img-fluid"},null,8,ut),[[e,`${s.foto2}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),_:2},1032,["onClick"])):r("",!0),s.foto3?(a(),v(_,{key:2,onClick:g=>l.goverveiculo(s.id)},{default:h(()=>[t("div",null,[t("div",ht,[c(t("img",{alt:s.nome_marca,class:"img-fluid"},null,8,gt),[[e,`${s.foto3}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),_:2},1032,["onClick"])):r("",!0),s.foto4?(a(),v(_,{key:3,onClick:g=>l.goverveiculo(s.id)},{default:h(()=>[t("div",null,[t("div",vt,[c(t("img",{alt:s.nome_marca,class:"img-fluid"},null,8,pt),[[e,`${s.foto4}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),_:2},1032,["onClick"])):r("",!0),s.foto5?(a(),v(_,{key:4,onClick:g=>l.goverveiculo(s.id)},{default:h(()=>[t("div",null,[t("div",mt,[c(t("img",{alt:s.nome_marca,class:"img-fluid"},null,8,ft),[[e,`${s.foto5}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),_:2},1032,["onClick"])):r("",!0),s.foto6?(a(),v(_,{key:5,onClick:g=>l.goverveiculo(s.id)},{default:h(()=>[t("div",null,[t("div",yt,[c(t("img",{alt:s.nome_marca,class:"img-fluid"},null,8,$t),[[e,`${s.foto6}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),_:2},1032,["onClick"])):r("",!0),s.foto7?(a(),v(_,{key:6,onClick:g=>l.goverveiculo(s.id)},{default:h(()=>[t("div",null,[t("div",kt,[c(t("img",{alt:s.nome_marca,class:"img-fluid"},null,8,wt),[[e,`${s.foto7}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),_:2},1032,["onClick"])):r("",!0),s.foto8?(a(),v(_,{key:7,onClick:g=>l.goverveiculo(s.id)},{default:h(()=>[t("div",null,[t("div",Ct,[c(t("img",{alt:s.nome_marca,class:"img-fluid"},null,8,bt),[[e,`${s.foto8}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),_:2},1032,["onClick"])):r("",!0),s.foto9?(a(),v(_,{key:8,onClick:g=>l.goverveiculo(s.id)},{default:h(()=>[t("div",null,[t("div",xt,[c(t("img",{alt:s.nome_marca,class:"img-fluid"},null,8,qt),[[e,`${s.foto9}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),_:2},1032,["onClick"])):r("",!0),s.foto10?(a(),v(_,{key:9,onClick:g=>l.goverveiculo(s.id)},{default:h(()=>[t("div",null,[t("div",Tt,[c(t("img",{alt:s.nome_marca,class:"img-fluid"},null,8,jt),[[e,`${s.foto10}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),_:2},1032,["onClick"])):r("",!0)]),_:2},1032,["options"]),t("div",{ref_for:!0,ref:"glide",class:"glide",hidden:""},[t("div",Dt,[t("ul",Ot,[t("li",Ft,[t("div",null,[t("div",St,[c(t("img",{alt:s.nome_marca,class:"img-fluid"},null,8,Et),[[e,`${s.foto1}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),t("li",Nt,[t("div",null,[t("div",Rt,[c(t("img",{alt:s.nome_marca,class:"img-fluid"},null,8,Pt),[[e,`${s.foto2}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),t("li",zt,[t("div",null,[t("div",At,[c(t("img",{alt:s.nome_marca,class:"img-fluid"},null,8,Mt),[[e,`${s.foto3}destaque_mini.jpg?v=${new Date().getTime()}`]])])])])])]),Vt],512)]),t("div",Bt,[t("div",{class:"resultados-titulos",onClick:g=>l.showCarroDetalhes(s.id)},[t("div",Lt,[t("h5",null,m(s.nome_marca)+" "+m(s.nome_modelo),1),t("div",Ut,[t("p",null,m(s.combustivel),1)])]),t("div",null,[t("div",Gt,[t("div",null,[t("h5",Ht," R$ "+m(s.valor_preco),1)]),t("div",null,[t("div",Jt,[t("div",Kt,m(s.ano_modelo),1),t("div",Qt,m(s.km)+" km ",1)])])])]),Wt],8,It)])])])]))),128))])])])]),t("div",Xt,[u.current_page<u.total_pages?(a(),n("button",{key:0,onClick:i[2]||(i[2]=(...s)=>l.verMaisCarros&&l.verMaisCarros(...s)),class:"btn-pagination"}," Ver mais carros ")):r("",!0)]),t("div",{style:{position:"fixed",right:"15px",bottom:"25px","z-index":"99"},class:"text-center d-lg-none d-md-none",onClick:i[3]||(i[3]=(...s)=>l.show_menu_lateral&&l.show_menu_lateral(...s))},Zt)])}const is=q(F,[["render",ts]]);export{is as T};
