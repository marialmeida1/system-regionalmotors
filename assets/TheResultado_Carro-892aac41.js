import{f as k}from"./loader-1a37fa3f.js";import{G as x}from"./glide.esm-676e99f8.js";import{_ as q,r as b,j as T,o,c,a as t,F as $,i as w,d as C,f as _,e as d,g as j,t as p,b as D,w as u,k as g}from"./index-fe31cdc2.js";import{_ as F}from"./TheForm_Login-eb20e8db.js";const O={name:"TheResultado_Carro",props:{set_tipo_veiculo:String},data(){return{splideOptions:{type:"carousel",perPage:1},array_filtros:[],results:!1,loader:!0,notFound:!1,arrayTitles:[],ordenacao_type:"0",url:"",queryString:"",total_pages:0,current_page:1}},methods:{show_menu_lateral(){this.$emit("show_menu_lateral")},showCarroDetalhes(i){const l={id:i};this.$router.push({path:"/verveiculo",query:l})},upPage(){window.scrollTo(0,0)},goverveiculo(i){this.$emit("goverveiculoNow",i)},async listData(i){this.$store.state.resultado=await i},async applyFiltro(i,l){this.notFound=!1,this.loader=!0;const v={};this.$store.state.resultado=[],this.array_filtros.forEach(s=>{v[s.chave]=s.valor}),v[i]=l,this.array_filtros=Object.keys(v).map(s=>({chave:s,valor:v[s]}));const m={};this.array_filtros.forEach(s=>{m[s.chave]=s.valor}),this.arrayTitles=[];var n="Comprar ",a="";Object.values(m).forEach(s=>{s==1?s="Novo":s==2&&(s="Usado"),this.arrayTitles.push(s),n+=s+" ",a+=s+" "}),document.title=n;const y=`/resultados/#/${a.toLowerCase()}`;this.$router.replace(y),this.queryString=Object.keys(m).map(s=>`${s}=${m[s]}`).join("&"),this.url=`api/anuncios/listar_anuncios?${this.queryString}&destaque_busca=1&status_publicacao=2`,this.$store.state.resultado=await k(this.url),this.$store.state.resultado&&(this.results=!0,this.loader=!1,this.$store.state.resultado.length==0?this.notFound=!0:this.notFound=!1)},async fetchAnuncios(){this.$store.state.resultado=await k(`api/anuncios/listar_anuncios/${this.ordenacao_type}?${this.queryString}&destaque_busca=1&status_publicacao=2page=${this.current_page}`)},async changePage(i){i>=1&&i<=this.total_pages&&(this.current_page=i,await this.fetchAnuncios())},async getOrdenation(i){this.ordenacao_type=i,await this.fetchAnuncios()},verTodos(){this.limparFiltro()},async limparFiltro(){this.$store.state.resultado=[],this.loader=!0,this.notFound=!1,this.array_filtros=[],this.$store.state.resultado=await k("api/anuncios/listar_anuncios?destaque_busca=1&status_publicacao=2"),this.$store.state.results=!0,this.filtro="",this.textMarca="",this.textModelo="",this.$store.state.todosFiltros=[],this.queryString="",this.$store.state.resultado&&(this.results=!0,this.loader=!1,this.$store.state.resultado.length==0&&(this.notFound=!0));const i="/resultados";this.$router.replace(i)}},async mounted(){this.$store.state.resultado=[];const i=Object.keys(this.$route.query);let l="Comprar ";this.queryString="",i.forEach((r,y)=>{let s=this.$route.query[r];l+=`${s} `,y===0?this.queryString+=`${r}=${s}`:this.queryString+=`&${r}=${s}`}),document.title=l,this.$store.state.resultado=await k(`api/anuncios/listar_anuncios?${this.queryString}&destaque_busca=1&status_publicacao=2`),this.$store.state.resultado&&(this.results=!0,this.loader=!1,this.$store.state.resultado.length==0?this.notFound=!0:this.notFound=!1);const v=this.$store.state.resultado,m=v[0].current_page,n=v[0].total_pages;this.current_page=m,this.total_pages=n;const a="/resultados";this.$router.replace(a)},updated(){this.$nextTick(()=>{this.$store.state.resultado&&Object.values(this.$refs).forEach(i=>{i.forEach(l=>{new x(l,{type:"carousel",perView:1,gap:0,peek:{before:0,after:0},hoverpause:!1,pagination:{el:".glide__pagination"}}).mount()})})})}},S={class:"content"},E={class:"pt-3 pe-4 pb-3 d-flex flex-row align-items-center justify-content-between"},P={class:"py-2 px-2",style:{"font-size":"13px"}},A={key:0},R={key:0},N={key:1},z={key:1},V={key:2},M={class:"ordenacao"},B=t("i",{class:"fa fa-sort fa-md"},null,-1),I=t("option",{value:"0",selected:""},"MAIS RELEVANTES",-1),L=t("option",{value:"1"},"MENOR PREÇO",-1),U=t("option",{value:"2"},"MAIOR PREÇO",-1),G=t("option",{value:"3"},"ANO MAIS NOVO",-1),H=[I,L,U,G],J={hidden:""},K={class:"px-2 py-2"},Q={key:0,style:{height:"60vh"},class:"text-center"},W=t("div",null,[t("img",{class:"caixa",src:F,alt:"",style:{width:"50px",height:"50px",background:"none !important"}})],-1),X=t("span",{style:{"font-size":"12px"}}," Carregando... ",-1),Y=[W,X],Z={class:"pt-5 px-3"},tt={class:"col-lg-6 mx-auto rounded-3 text-center py-4",style:{"background-color":"rgba(82, 82, 82, 0.2)"}},et=t("h4",null,"Nenhum resultado!",-1),st={class:"m-0"},ot={class:"row p-0 m-0"},at={class:"col-lg-8 col-md-8 p-0 m-0"},it={class:"row p-0 m-0"},lt={class:"px-2 container-completo"},nt={class:"row p-0 m-0"},rt={class:"col-5 col-md-12 col-lg-12 m-0 p-0"},ct={class:"imagem-container2"},dt=["alt"],_t={class:"imagem-container2"},ut=["alt"],ht={class:"imagem-container2"},gt=["alt"],vt={class:"imagem-container2"},pt=["alt"],mt={class:"imagem-container2"},ft=["alt"],yt={class:"imagem-container2"},kt=["alt"],$t={class:"imagem-container2"},wt=["alt"],Ct={class:"imagem-container2"},bt=["alt"],xt={class:"imagem-container2"},qt=["alt"],Tt={class:"imagem-container2"},jt=["alt"],Dt={class:"glide__track","data-glide-el":"track"},Ft={class:"glide__slides"},Ot={class:"glide__slide"},St={class:"imagem-container2"},Et=["alt"],Pt={class:"glide__slide"},At={class:"imagem-container2"},Rt=["alt"],Nt={class:"glide__slide"},zt={class:"imagem-container2"},Vt=["alt"],Mt=t("div",{class:"glide__arrows","data-glide-el":"controls"},[t("div",{class:"btn glide__arrow glide__arrow--left btn-voltar","data-glide-dir":"<"},[t("span",null," > ")]),t("div",{class:"btn glide__arrow glide__arrow--right btn-avancar","data-glide-dir":">"},[t("span",null," > ")])],-1),Bt={class:"col-7 col-md-12 col-lg-12 titles p-0 m-0"},It=["onClick"],Lt={class:"px-2 pt-2 position-relative"},Ut={style:{opacity:"0.5","text-transform":"uppercase"}},Gt={class:"pt-2 pb-1 position-relative"},Ht={class:"py-1 ps-2",style:{color:"#000000"}},Jt={class:"row p-2 m-0"},Kt={class:"col-6 p-0 m-0",style:{"font-size":"12px",opacity:"0.7"}},Qt={class:"col-6 p-0 m-0 text-end",style:{"font-size":"12px",opacity:"0.7"}},Wt=t("div",null,null,-1),Xt=t("div",{class:"col-lg-4 col-md-4"},[t("div",{class:"invisible"},"Ads")],-1),Yt={class:"pagination"},Zt=["disabled"],te=["disabled"],ee=["onClick"],se=t("div",{class:"bg-dark",style:{"border-radius":"100px",height:"55px",width:"55px","padding-top":"5px"}},[t("i",{class:"fas fa-filter",style:{"font-size":"12px"}}),C(),t("br"),t("div",{style:{"font-size":"11px"}},"Filtrar")],-1),oe=[se];function ae(i,l,v,m,n,a){const r=b("splide-slide"),y=b("splide"),s=T("lazy");return o(),c("main",S,[t("div",E,[t("div",P,[(o(!0),c($,null,w(n.array_filtros,(e,f)=>(o(),c("span",{class:"me-2 p-1 px-2 rounded-3 me-2",style:{"background-color":"rgba(82, 82, 82, 0.2)",color:"#000","font-weight":"600"},key:f},[e.chave=="situacao_veiculo"?(o(),c("span",A,[e.valor=="1"?(o(),c("span",R," Novo ")):_("",!0),e.valor=="2"?(o(),c("span",N," Usado ")):_("",!0)])):e.chave=="opcionais_id"?(o(),c("span",z," Itens Opcionais ")):(o(),c("span",V,p(e.valor),1))]))),128))]),t("div",M,[B,t("select",{class:"ordenacao_select",onChange:l[0]||(l[0]=e=>a.getOrdenation(e.target.value)),id:"ordenacao_select"},H,32)])]),t("div",J,[t("div",K,[t("h4",null,[C(" Resultados "),(o(!0),c($,null,w(i.$store.state.todosFiltros,(e,f)=>(o(),c("span",{class:"me-2",key:f}," oa "+p(e.valor)+", ",1))),128)),C(" | Regionalmotors ")])])]),n.loader?(o(),c("div",Q,Y)):_("",!0),d(t("div",Z,[t("div",tt,[et,t("p",st,[C(" Click para "),t("span",{style:{color:"crimson",cursor:"pointer"},onClick:l[1]||(l[1]=(...e)=>a.verTodos&&a.verTodos(...e))}," ver todos ")])])],512),[[j,n.notFound]]),t("div",ot,[t("div",at,[t("div",null,[t("div",it,[(o(!0),c($,null,w(i.$store.state.resultado,(e,f)=>(o(),c("div",{class:"col-lg-4 col-md-6 p-0 m-0 mb-3",key:f,style:{cursor:"pointer"}},[t("div",lt,[t("div",nt,[t("div",rt,[D(y,{options:n.splideOptions,class:"bg-dark"},{default:u(()=>[e.foto1?(o(),g(r,{key:0,onClick:h=>a.goverveiculo(e.id)},{default:u(()=>[t("div",null,[t("div",ct,[d(t("img",{alt:e.nome_marca,class:"img-fluid"},null,8,dt),[[s,`${e.foto1}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),_:2},1032,["onClick"])):_("",!0),e.foto2?(o(),g(r,{key:1,onClick:h=>a.goverveiculo(e.id)},{default:u(()=>[t("div",null,[t("div",_t,[d(t("img",{alt:e.nome_marca,class:"img-fluid"},null,8,ut),[[s,`${e.foto2}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),_:2},1032,["onClick"])):_("",!0),e.foto3?(o(),g(r,{key:2,onClick:h=>a.goverveiculo(e.id)},{default:u(()=>[t("div",null,[t("div",ht,[d(t("img",{alt:e.nome_marca,class:"img-fluid"},null,8,gt),[[s,`${e.foto3}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),_:2},1032,["onClick"])):_("",!0),e.foto4?(o(),g(r,{key:3,onClick:h=>a.goverveiculo(e.id)},{default:u(()=>[t("div",null,[t("div",vt,[d(t("img",{alt:e.nome_marca,class:"img-fluid"},null,8,pt),[[s,`${e.foto4}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),_:2},1032,["onClick"])):_("",!0),e.foto5?(o(),g(r,{key:4,onClick:h=>a.goverveiculo(e.id)},{default:u(()=>[t("div",null,[t("div",mt,[d(t("img",{alt:e.nome_marca,class:"img-fluid"},null,8,ft),[[s,`${e.foto5}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),_:2},1032,["onClick"])):_("",!0),e.foto6?(o(),g(r,{key:5,onClick:h=>a.goverveiculo(e.id)},{default:u(()=>[t("div",null,[t("div",yt,[d(t("img",{alt:e.nome_marca,class:"img-fluid"},null,8,kt),[[s,`${e.foto6}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),_:2},1032,["onClick"])):_("",!0),e.foto7?(o(),g(r,{key:6,onClick:h=>a.goverveiculo(e.id)},{default:u(()=>[t("div",null,[t("div",$t,[d(t("img",{alt:e.nome_marca,class:"img-fluid"},null,8,wt),[[s,`${e.foto7}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),_:2},1032,["onClick"])):_("",!0),e.foto8?(o(),g(r,{key:7,onClick:h=>a.goverveiculo(e.id)},{default:u(()=>[t("div",null,[t("div",Ct,[d(t("img",{alt:e.nome_marca,class:"img-fluid"},null,8,bt),[[s,`${e.foto8}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),_:2},1032,["onClick"])):_("",!0),e.foto9?(o(),g(r,{key:8,onClick:h=>a.goverveiculo(e.id)},{default:u(()=>[t("div",null,[t("div",xt,[d(t("img",{alt:e.nome_marca,class:"img-fluid"},null,8,qt),[[s,`${e.foto9}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),_:2},1032,["onClick"])):_("",!0),e.foto10?(o(),g(r,{key:9,onClick:h=>a.goverveiculo(e.id)},{default:u(()=>[t("div",null,[t("div",Tt,[d(t("img",{alt:e.nome_marca,class:"img-fluid"},null,8,jt),[[s,`${e.foto10}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),_:2},1032,["onClick"])):_("",!0)]),_:2},1032,["options"]),t("div",{ref_for:!0,ref:"glide",class:"glide",hidden:""},[t("div",Dt,[t("ul",Ft,[t("li",Ot,[t("div",null,[t("div",St,[d(t("img",{alt:e.nome_marca,class:"img-fluid"},null,8,Et),[[s,`${e.foto1}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),t("li",Pt,[t("div",null,[t("div",At,[d(t("img",{alt:e.nome_marca,class:"img-fluid"},null,8,Rt),[[s,`${e.foto2}destaque_mini.jpg?v=${new Date().getTime()}`]])])])]),t("li",Nt,[t("div",null,[t("div",zt,[d(t("img",{alt:e.nome_marca,class:"img-fluid"},null,8,Vt),[[s,`${e.foto3}destaque_mini.jpg?v=${new Date().getTime()}`]])])])])])]),Mt],512)]),t("div",Bt,[t("div",{class:"resultados-titulos",onClick:h=>a.showCarroDetalhes(e.id)},[t("div",Lt,[t("h5",null,p(e.nome_marca)+" "+p(e.nome_modelo),1),t("div",Ut,[t("p",null,p(e.combustivel),1)])]),t("div",null,[t("div",Gt,[t("div",null,[t("h5",Ht," R$ "+p(e.valor_preco),1)]),t("div",null,[t("div",Jt,[t("div",Kt,p(e.ano_modelo),1),t("div",Qt,p(e.km)+" km ",1)])])])]),Wt],8,It)])])])]))),128))])])]),Xt]),t("div",Yt,[t("button",{onClick:l[2]||(l[2]=e=>a.changePage(n.current_page-1)),disabled:n.current_page===1},"Anterior",8,Zt),t("button",{onClick:l[3]||(l[3]=e=>a.changePage(n.current_page+1)),disabled:n.current_page===n.total_pages},"Próximo",8,te),(o(!0),c($,null,w(n.total_pages,e=>(o(),c("button",{key:e,onClick:f=>a.changePage(e)},p(e),9,ee))),128))]),t("div",{style:{position:"fixed",right:"15px",bottom:"25px","z-index":"99"},class:"text-center d-lg-none d-md-none",onClick:l[4]||(l[4]=(...e)=>a.show_menu_lateral&&a.show_menu_lateral(...e))},oe)])}const ce=q(O,[["render",ae]]);export{ce as T};
