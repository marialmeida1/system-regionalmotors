import{T as $}from"./TheNavTop-1676ea89.js";import{T as F}from"./TheAdminNavLateral2-3a5dd97d.js";import{H as E,I as L,f as g,d as x,J as N}from"./TheForm_Login-4b39105b.js";import{_ as f,o as l,c as r,a as t,f as _,l as b,F as p,i as u,d as y,t as c,v as w,e as M,r as m,b as v}from"./index-8fe4a332.js";import"./logo-5b4cc875.js";const A={name:"TheMarcas",data(){return{nome:"",id_tipo_veiculo:"",desc:"desc",tipo_veiculo:[],marcas:"",filter_tipo_veiculo:"",array_filtros:[],filter_marca:"",marcas_filtradas:[]}},methods:{show_menu_lateral(){this.$emit("show_menu_lateral")},showDetalhes(){this.$router.push({path:"/detalhes"})},async editar(){const o={nome_marca:this.nome,tipo_veiculo_id:this.id_tipo_veiculo,descricao:this.desc};try{const e=await E(o,this.id);console.log("Ja esta"+e),e.data?this.$store.state.marcas=this.applyFiltro("tipo_veiculo","carro"):this.showErrorMessage=!0}catch(e){console.error("Erro na requisição:",e),this.showErrorMessage=!0}},showgetDados(o){this.id=o,this.marcas=this.$store.state.marcas.find(e=>e.id===this.id),console.log("Novo dado"),this.nome=this.marcas.nome_marca,this.id_tipo_veiculo=this.marcas.tipo_veiculo_id,this.desc=this.marcas.descricao},modalApagar(o){this.id=o,console.log(o)},async apagar(){console.log("Eliminando "+this.id);try{const o=await L(this.id);console.log("temp Ja eliminando"+o),setTimeout(async function(){this.$store.state.marcas=this.applyFiltro("tipo_veiculo","carro")}.bind(this),2e3),o.data?console.log("Eliminou..."):this.showErrorMessage=!0}catch(o){console.error("Erro na requisição:",o),this.showErrorMessage=!0}},async filterMarcas(o){this.marcas_filtradas=await g("api/marcas/listar_marcas?tipo_veiculo="+o),this.applyFiltro("tipo_veiculo",o)},async applyFiltro(o,e){if(e!="0"){const n={};this.array_filtros.forEach(s=>{n[s.chave]=s.valor}),n[o]=e,this.array_filtros=Object.keys(n).map(s=>({chave:s,valor:n[s]}));const d={};this.array_filtros.forEach(s=>{d[s.chave]=s.valor});const i=`api/marcas/listar_marcas?${Object.keys(d).map(s=>`${s}=${d[s]}`).join("&")}`;this.$store.state.marcas=await g(i),console.log(i)}else this.limparFiltro(),this.filter_tipo_veiculo="0",this.filter_marca="0";this.$store.state.anuncios.length==0?this.$store.state.results=!1:this.$store.state.results=!0},async limparFiltro(){this.array_filtros=[],this.$store.state.marcas=this.applyFiltro("tipo_veiculo","carro")}},async created(){this.$store.state.marcas=this.applyFiltro("tipo_veiculo","carro"),this.tipo_veiculo=await x(),localStorage.getItem("token")||this.$router.push({path:"/login"})},mounted(){localStorage.getItem("perfil")!="superadmin"&&this.$router.push({path:"/anuncios"})}},C={class:"content"},S={class:"py-2",style:{"box-shadow":"0px 0px 10px 0px rgba(0, 0, 0, 0.2)"}},V={class:"row"},q={class:"col-8 col-lg-10"},D={class:"row"},U={class:"col-2 pesquisar-filter p-0"},H=t("i",{class:"fas fa-filter fa-lg"},null,-1),z=[H],I=t("div",{class:"col-10 col-lg-6 p-0"},[t("div",{class:"pesquisar",style:{width:"100%",position:"relative",border:"none"}},[t("input",{type:"text",class:"ps-4 pt-2",style:{width:"89%",color:"#000"},placeholder:"Digite a marca o modelo do carro"}),t("i",{class:"fas fa-search",style:{position:"absolute",left:"8px",top:"36%",bottom:"0",margin:"auto"}})])],-1),j=M('<div class="col-4 bg-inf col-lg-2 pesquisar-mais-relevantes"><div class="row"><div class="pesquisar-link-icon col-4 pt-3 invisible"><i class="fas fa-th-large fa-lg"></i></div><div class="pesquisar-link-icon col-4 text-center pt-3 pt-3 invisible"><i class="fas fa-th-list fa-lg"></i></div><div class="menu-link position-relative pesquisar-link-icon col-4 pt-3"><i class="fas fa-exchange-alt fa-rotate-90 fa-l relevante"></i><div class="sub-menu-desktop mais-relevantes position-absolute py-2" style="z-index:99;width:170px;left:-135px !important;"><div class="pb-3"></div><div class="bg-dark py-0 text-center" style="border-bottom-left-radius:8px;border-bottom-right-radius:8px;"><p class="">Mais Relevantes</p></div></div></div></div><div></div></div>',1),B=t("div",null,[t("div",{class:"py-2 pt-3 px-2",style:{"font-size":"13px"}},[t("span",{class:"me-2 p-1 px-2 rounded-3 bg-dark",style:{opacity:"0.6"}},[t("b",null,"Admin/Marcas")])])],-1),J={class:"position-relative",style:{height:"72vh"}},O={class:"p-2 pt-3 table-responsive",style:{height:"65vh"}},P={class:"table"},R=t("th",{scope:"col"},"#",-1),G={scope:"col"},K=t("option",{value:"",selected:"",disabled:""}," Tipo de veiculo ",-1),Q={value:"0"},W={key:0},X={key:1},Y=["value"],Z={scope:"col"},tt=t("option",{value:"",selected:"",disabled:""}," Marca ",-1),st={value:"0"},et={key:0},ot={key:1},at=["value"],it=t("th",{scope:"col"}," --- ",-1),lt=t("th",{scope:"col",class:"text-center"}," --- ",-1),rt=t("tr",{style:{"background-color":"crimson",color:"#fff"}},[t("th",{scope:"col"},"#"),t("th",{scope:"col"},"Tipo de Veiculo"),t("th",{scope:"col"},"Marca"),t("th",{scope:"col"},"Descrição"),t("th",{scope:"col",class:"text-center"},"Açoes")],-1),ct={scope:"row"},nt=t("td",null," ---- ",-1),dt={class:"text-center"},_t={style:{width:"100%"}},ht=t("i",{class:"fas fa-eye"},null,-1),pt=[ht],ut=["onClick"],mt=t("i",{class:"fas fa-pencil-alt"},null,-1),vt=[mt],bt=["onClick"],ft=t("button",{class:"btn btn-add rounded-circle position-absolute d-flex justify-content-center align-items-center",style:{left:"8px"},type:"button","data-bs-toggle":"modal","data-bs-target":"#IDaddMarcas"},[t("i",{class:"fas fa-plus"})],-1),yt={class:"modal fade",id:"EditarMarcaNow",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},gt={class:"modal-dialog"},xt={class:"modal-content"},wt={class:"bg-dar",id:"criarAnuncio"},Mt=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"exampleModalLabel",style:{"font-size":"17px"}},[t("span",{class:"fas fa-bullhorn py-2 pt-0"}),y(),t("b",null,"Editar Marca")]),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Fechar"})],-1),Tt={class:"modal-body",style:{height:"470px",overflow:"auto","margin-bottom":"1em"}},kt={class:"mb-3"},$t=t("label",{for:"",class:"form-label"},"Tipo de veiculo",-1),Ft=t("option",{value:""},"Selecionar",-1),Et=["value"],Lt={class:"mb-3"},Nt=t("label",{for:"nome",class:"form-label"},"Marca",-1),At={class:"modal-footer"},Ct={style:{display:"flex","flex-wrap":"wrap"}},St=t("div",{class:"col-6"},[t("button",{type:"button",class:"me-3 btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Fechar"},"Cancelar")],-1),Vt={class:"col-6"},qt={class:"modal fade",id:"EliminarMarca",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Dt={class:"modal-dialog"},Ut={class:"modal-content"},Ht={class:"bg-dar",id:"criarAnuncio"},zt=M('<div class="modal-header"><h5 class="modal-title" id="exampleModalLabel" style="font-size:17px;"><span class="fas fa-bullhorn py-2 pt-0"></span> <b>Apagar Estado</b></h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button></div><div class="modal-body" style="height:80px;overflow:auto;margin-bottom:1em;"><div><h5> Confirme antes de <span style="color:red;">Eliminar</span>! </h5></div></div>',2),It={class:"modal-footer"},jt={style:{display:"flex","flex-wrap":"wrap"}},Bt=t("div",{class:"col-6"},[t("button",{type:"button",class:"me-3 btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Fechar"},"Cancelar")],-1),Jt={class:"col-6"};function Ot(o,e,n,d,a,i){return l(),r("main",C,[t("div",S,[t("div",V,[t("div",q,[t("div",D,[t("div",U,[t("div",{class:"pt-2",onClick:e[0]||(e[0]=(...s)=>i.show_menu_lateral&&i.show_menu_lateral(...s))},z)]),I])]),j])]),B,t("div",J,[t("div",O,[t("table",P,[t("thead",null,[t("tr",null,[R,t("th",G,[t("div",null,[_(t("select",{class:"form-select",style:{width:"150px"},"onUpdate:modelValue":e[1]||(e[1]=s=>a.filter_tipo_veiculo=s),onChange:e[2]||(e[2]=s=>i.filterMarcas(s.target.value))},[K,t("option",Q,[a.filter_tipo_veiculo=="0"?(l(),r("div",W," Tipo de veiculo ")):(l(),r("div",X," Limpar filtro "))]),(l(!0),r(p,null,u(a.tipo_veiculo,s=>(l(),r("option",{value:s.tipo_veiculo},c(s.tipo_veiculo),9,Y))),256))],544),[[b,a.filter_tipo_veiculo]])])]),t("th",Z,[t("div",null,[_(t("select",{class:"form-select",onChange:e[3]||(e[3]=s=>i.applyFiltro("nome_marca",s.target.value)),style:{width:"150px"},"onUpdate:modelValue":e[4]||(e[4]=s=>a.filter_marca=s)},[tt,t("option",st,[a.filter_marca=="0"?(l(),r("div",et," Marca ")):(l(),r("div",ot," Limpar filtro "))]),(l(!0),r(p,null,u(a.marcas_filtradas,s=>(l(),r("option",{value:s.nome_marca},c(s.nome_marca),9,at))),256))],544),[[b,a.filter_marca]])])]),it,lt]),rt]),t("tbody",null,[(l(!0),r(p,null,u(o.$store.state.marcas,s=>(l(),r("tr",{key:s.id},[t("th",ct,c(s.id),1),t("td",null,c(s.tipo_veiculo),1),t("td",null,c(s.nome_marca),1),nt,t("td",dt,[t("div",_t,[t("span",{onClick:e[5]||(e[5]=(...h)=>i.showDetalhes&&i.showDetalhes(...h)),hidden:""},pt),t("span",{class:"mx-3",type:"button","data-bs-toggle":"modal","data-bs-target":"#EditarMarcaNow",onClick:h=>i.showgetDados(s.id)},vt,8,ut),t("span",{class:"fas fa-trash-alt",type:"button","data-bs-toggle":"modal","data-bs-target":"#EliminarMarca",onClick:h=>i.modalApagar(s.id)},null,8,bt)])])]))),128))])])]),ft]),t("div",yt,[t("div",gt,[t("div",xt,[t("div",wt,[Mt,t("div",Tt,[t("form",null,[t("div",kt,[$t,y(" "+c(a.id_tipo_veiculo)+" ",1),_(t("select",{class:"form-select",name:"",id:"","onUpdate:modelValue":e[6]||(e[6]=s=>a.id_tipo_veiculo=s)},[Ft,(l(!0),r(p,null,u(a.tipo_veiculo,s=>(l(),r("option",{key:s.id,value:s.id},c(s.tipo_veiculo),9,Et))),128))],512),[[b,a.id_tipo_veiculo]])]),t("div",Lt,[Nt,_(t("input",{type:"text",class:"text form-control",id:"nome","onUpdate:modelValue":e[7]||(e[7]=s=>a.nome=s)},null,512),[[w,a.nome]])])])]),t("div",At,[t("div",Ct,[St,t("div",Vt,[t("button",{type:"button",class:"ms-3 btn btn-primary",onClick:e[8]||(e[8]=s=>i.editar()),"data-bs-dismiss":"modal","aria-label":"Fechar"},"actualizar")])])])])])])]),t("div",qt,[t("div",Dt,[t("div",Ut,[t("div",Ht,[zt,t("div",It,[t("div",jt,[Bt,t("div",Jt,[t("button",{type:"button",class:"btn btn-primary",onClick:e[9]||(e[9]=s=>i.apagar()),"data-bs-dismiss":"modal","aria-label":"Fechar"},"Confirmar")])])])])])])])])}const Pt=f(A,[["render",Ot]]),Rt={name:"TheAddMarca",data(){return{nome:"",id_tipo_veiculo:"",desc:"desc",tipo_veiculo:[]}},methods:{async add(){const o={nome_marca:this.nome,tipo_veiculo_id:this.id_tipo_veiculo,descricao:this.desc};try{await N(o)&&(this.nome="",this.marca_id="",this.desc="",this.$store.state.marcas=this.applyFiltro("tipo_veiculo","carro"))}catch{}}},async created(){this.tipo_veiculo=await x()}},Gt={class:"modal fade",id:"IDaddMarcas",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Kt={class:"modal-dialog"},Qt={class:"modal-content"},Wt={class:"bg-dar"},Xt=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"exampleModalLabel"},[t("span",{class:"far fa-user py-2 pt-0"}),y(),t("b",null,"Adicionar Marca")]),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Fechar"})],-1),Yt={class:"modal-body",style:{height:"370px",overflow:"auto","margin-bottom":"1em"}},Zt={class:"mb-3"},ts=t("label",{for:"",class:"form-label"},"Tipo de veiculo",-1),ss=t("option",{value:""},"Selecionar",-1),es=["value"],os={class:"mb-3"},as=t("label",{for:"nome",class:"form-label"},"Marca",-1),is={class:"modal-footer"},ls={style:{display:"flex","flex-wrap":"wrap"}},rs=t("div",{class:"col-6"},[t("button",{type:"button",class:"ms-3 btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Fechar"},"Cancelar")],-1),cs={class:"col-6"};function ns(o,e,n,d,a,i){return l(),r("div",Gt,[t("div",Kt,[t("div",Qt,[t("div",Wt,[Xt,t("div",Yt,[t("form",null,[t("div",Zt,[ts,_(t("select",{class:"form-select",name:"",id:"","onUpdate:modelValue":e[0]||(e[0]=s=>a.id_tipo_veiculo=s)},[ss,(l(!0),r(p,null,u(a.tipo_veiculo,s=>(l(),r("option",{key:s.id,value:s.id},c(s.tipo_veiculo),9,es))),128))],512),[[b,a.id_tipo_veiculo]])]),t("div",os,[as,_(t("input",{type:"text",class:"text form-control",id:"nome","onUpdate:modelValue":e[1]||(e[1]=s=>a.nome=s)},null,512),[[w,a.nome]])])])]),t("div",is,[t("div",ls,[rs,t("div",cs,[t("button",{type:"button",class:"ms-3 btn btn-primary",onClick:e[2]||(e[2]=s=>i.add()),"data-bs-dismiss":"modal","aria-label":"Fechar"},"Adicionar")])])])])])])])}const ds=f(Rt,[["render",ns]]),_s={components:{TheNavTop:$,TheAdminNavLateral2:F,TheMarcas:Pt,TheAddMarca:ds},data(){return{TheNavLateral:""}},methods:{handle_showHidden_menu_lateral(){console.log("Emitido..."),this.TheNavLateral.classList.toggle("showHidden_menu-lateral")}},mounted(){this.TheNavLateral=document.getElementById("TheNavLateral")}},hs={id:"TheNavLateral",class:"menu-lateral showHidden_menu-lateral"};function ps(o,e,n,d,a,i){const s=m("TheNavTop"),h=m("TheAdminNavLateral2"),T=m("TheMarcas"),k=m("TheAddMarca");return l(),r("div",null,[v(s),t("div",hs,[v(h,{onShow_menu_lateral:i.handle_showHidden_menu_lateral},null,8,["onShow_menu_lateral"])]),v(T,{onShow_menu_lateral:i.handle_showHidden_menu_lateral},null,8,["onShow_menu_lateral"]),v(k)])}const ys=f(_s,[["render",ps]]);export{ys as default};
